<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../placetobe-behaviors/placetobe-styles-behavior.html">
<link rel="import" href="../placetobe-behaviors/placetobe-image-behavior.html">

<dom-module id="placetobe-manholdingkey-illustration">
  <template>
    <style>
      :host {
        display: block;
      }

      :host figcaption {
        display: block;
        filter: blur(10px);
        transition: 0.5s filter ease-in-out;
      }

      :host([image-loaded]) figcaption {
        filter: blur(0);
      }

      :host figcaption img {
        object-fit: contain;
        object-position: 50% 50%;
        width: 100%;
        height: 100%;
        opacity: 1;
        transition: 0.5s opacity ease-in-out;
      }

      :host figcaption img[hidden] {
        opacity: 0;
        display:block;
      }
    </style>

    <figcaption>
      <img
        id="placeholder"
        src$="[[placeholderUrl]]"
        alt=""
        >
    </figcaption>

  </template>

  <script>
    Polymer({
      is: 'placetobe-manholdingkey-illustration',
      behaviors: [PlacetobeStylesBehavior, PlacetobeImageBehavior],

      properties: {

        imageUrl: {
          type: String,
          value: 'placetobe-manholdingkey-illustration.png'
        },

        placeholderUrl: {
          type: String,
          value: function() {
            return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAZFJREFUGBljYIAAJigtUhocf7E1NvNGWkC8MkgsNDSUGUSDFawKDWUBcSYnZ4WlWJroFTtaqeca68iCxFZpa/8H0Qz/GxqY/v//zwhif1q51vrXwmX/X02bdQvEZ9D3zA13CjICMcEKtuXmsit//unJysikza2n0/Cfne3JgyOnQiyuPStguPC8nIHh/DPGJ3HZwszcLFt5WFjN//37x/CRmYmBjY2N4dWbd/93vf7wLEpRPFlqysSdLBx8HPXCbOzm7//9/cWmpcHM9+MnM/urVwyXv3xn5PvHIC3CwrHjVW5xKBPTv3+23/78ZmBVV2X8x8zCzPLtG8Od9x8ZTrKy/RdWkfv56+8/BtZ/DNVMf+4/4mUL8WfgSohh+v3q5X+Gu/f+r7/16L+ipBiDr5kR629xUYa///8qMP1VU2JjsbFi+PPpI9OfG3cY/3NxMTpJiTD+ffKc8dXzF4x8XFwMDP/+fWNhcXP+z8DIyPD+0JEfPz9+ZmQSEWTUEeRlUPz9h4H1wcM/n1lYuBlZWd8AADgUlfqWPkB2AAAAAElFTkSuQmCC'
          }
        }

      }

    });
  </script>
</dom-module>
