<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../placetobe-behaviors/placetobe-styles-behavior.html">
<link rel="import" href="../placetobe-behaviors/placetobe-image-behavior.html">

<dom-module id="placetobe-manreading-illustration">
  <template>
    <style>
      :host {
        display: block;
      }

      :host figcaption {
        display: block;
        filter: blur(10px);
        transition: 0.5s filter ease-in-out;
      }

      :host([image-loaded]) figcaption {
        filter: blur(0);
      }

      :host figcaption img {
        object-fit: contain;
        object-position: 50% 50%;
        width: 100%;
        height: 100%;
        opacity: 1;
        transition: 0.5s opacity ease-in-out;
      }

      :host figcaption img[hidden] {
        opacity: 0;
        display:block;
      }
    </style>

    <figcaption>
      <img
        id="placeholder"
        src$="[[placeholderUrl]]"
        alt=""
        >
    </figcaption>

  </template>

  <script>
    Polymer({
      is: 'placetobe-manreading-illustration',
      behaviors: [PlacetobeStylesBehavior, PlacetobeImageBehavior],

      properties: {

        imageUrl: {
          type: String,
          value: 'placetobe-manreading-illustration.png'
        },

        placeholderUrl: {
          type: String,
          value: function() {
            return 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAXhJREFUGBljYIABbacaE2v/Nwzqzp0godDQUGYgxQiThtGC4a6h3x5Nmvl/ZWH1/0i/GFeQxCqwYrAGBqb/DQ1MQLH30XqqwXzsLD9c1ZV+hqmrvAYpDFu9+i8DAwg3MDHNkvQBWcHg19u2/eWXr0u4ODjY9z58NIVB1+U2g6LNcUlTNzugwn8IN4iaTcowVUpzVpRlD526AOg6eQa3YH2GK/eevP3I+keb8f//X4aMknauDMJ8nSrivAwqilJ/jRVk/3k62jD8ZWT8Y28dzWnmbJDC+P79+7WvHz8N+s/B/ltQgJ+Ri5OTmZ2Li4Hl50/GD8dP/Z40axlr/YU7PUwcp8+eVRUUYFBTVfknIiLCzMnF9Z/h37//P1lY/vFysP8P1VFlYODjlGf6d/GqNMPHzwy///5lZwQCJiBgZmZmYmdlZfqgosTWduw0A8PHLyosDB/ez//MxmrD/PevPNCkXyC1////ZwAqZmDl5Pr3mIeTmeHnr78AUWF+usEaeBwAAAAASUVORK5CYII='
          }
        }

      }

    });
  </script>
</dom-module>
